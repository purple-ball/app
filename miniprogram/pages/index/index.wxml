<view class="container">
  <!-- 头像区域 -->
  <view class="avatar-section">
    <image class="avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" bindtap="navigateToProfile" />
    <text class="welcome">欢迎来到 HerSky</text>
  </view>

  <!-- 快捷功能区 -->
  <view class="grid">
    <button class="grid-item" bindtap="handleGridItemTap" data-type="diary">
      <image class="grid-icon" src="/images/icons/diary.svg" />
      <text class="grid-text">日记</text>
    </button>
    <button class="grid-item" bindtap="handleGridItemTap" data-type="record">
      <image class="grid-icon" src="/images/icons/record.svg" />
      <text class="grid-text">记录</text>
    </button>
    <button class="grid-item" bindtap="handleGridItemTap" data-type="knowledge">
      <image class="grid-icon" src="/images/icons/knowledge.svg" />
      <text class="grid-text">知识库</text>
    </button>
    <button class="grid-item" bindtap="handleGridItemTap" data-type="sos">
      <image class="grid-icon" src="/images/icons/sos.svg" />
      <text class="grid-text">求助</text>
    </button>
  </view>

  <!-- 每日任务 -->
  <view class="task-list">
    <view class="section-title">每日任务</view>
    <view class="task-item" wx:for="{{tasks}}" wx:key="id">
      <checkbox checked="{{item.completed}}" bindtap="toggleTask" data-id="{{item.id}}" />
      <text class="task-text {{item.completed ? 'completed' : ''}}">{{item.text}}</text>
      <text class="task-points">+{{item.points}}</text>
    </view>
  </view>

  <!-- 名人名言卡片 -->
  <view class="quote-card">
    <text class="quote-content">{{quote.content}}</text>
    <text class="quote-author">—— {{quote.author}}</text>
  </view>

  <!-- 信物奖励弹窗 -->
  <view class="reward-modal {{showReward ? 'show' : ''}}">
    <view class="modal-mask" bindtap="closeReward"></view>
    <view class="modal-content">
      <view class="reward-title">获得新的信物！</view>
      <image class="reward-image" src="{{currentReward.image}}" mode="aspectFit" />
      <text class="reward-name">{{currentReward.name}}</text>
      <view class="reward-actions">
        <button class="btn btn-secondary" bindtap="closeReward">关闭</button>
        <button class="btn btn-primary" bindtap="viewRewardDetail">查看详情</button>
      </view>
    </view>
  </view>
</view> 